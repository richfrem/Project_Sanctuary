[pytest]
asyncio_mode = auto
markers =
    integration: marks tests as integration tests (deselect with '-m "not integration"')
    benchmark: marks tests as performance benchmarks (deselect with '-m "not benchmark"')
    slow: marks tests as slow (deselect with '-m "not slow"')
    e2e: marks tests as end-to-end tests (deselect with '-m "not e2e"')
    asyncio: mark test as async
    headless: mark test as headless E2E
    gateway: marks tests for external gateway service (deselect with '-m "not gateway"')

# Default: skip slow, integration, and benchmark tests to keep unit tests fast
addopts = -m "not slow and not benchmark and not integration" --strict-markers
timeout = 30

# Test discovery
testpaths = tests mnemonic_cortex/tests council_orchestrator/tests forge/tests

# Coverage
[coverage:run]
omit = 
    */tests/*
    */test_*.py
