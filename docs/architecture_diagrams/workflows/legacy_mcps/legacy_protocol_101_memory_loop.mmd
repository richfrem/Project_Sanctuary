---
config:
  theme: base
---
%% Name: Legacy Protocol 101 Memory Loop
%% Source: docs/legacy/council_orchestrator/orchestrator_architecture_package.md
%% Location: docs/architecture_diagrams/workflows/legacy_protocol_101_memory_loop.mmd
%% Description: Legacy Sovereign Memory Loop for Protocol 101 (Optical Anvil)

graph TD
    subgraph "Sovereign Memory Loop"
        A[Agent needs full context] --> B{Mnemonic Cortex}
        B --> C["Query: 'Protocol 101 Unbreakable Commit'"]
        C --> D["Retrieves Pointer: glyph_P101_v2.png"]
        D --> E[Glyph Storage File System]
        E --> F["Loads Image File"]
        F --> G{VLM Engine Gemini 1.5}
        G --> H["Decompresses text for ~10x fewer tokens"]
        H --> I[Agent receives full text of P101]
    end

    subgraph "Ingestion Pipeline"
        J[New Knowledge] --> K[Text-to-Vector<br/>RAG Database]
        J --> L[Text-to-Image<br/>Optical Anvil]
        K --> M[Fast Retrieval Index]
        L --> N[Compressed Storage]
    end
