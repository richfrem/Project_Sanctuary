---
config:
  theme: base
  layout: elk
---

%% Name: Gateway Production Flow
%% Description: Production request path: Clients â†’ Bridge (STDIOâ†’HTTP) â†’ Gateway â†’ SSE Fleet
%% Location: docs/architecture_diagrams/transport/gateway_production_flow.mmd

flowchart LR
    subgraph Clients["ğŸ–¥ï¸ MCP Clients"]
        Claude["Claude Desktop"]
        Cursor["Cursor IDE"]
        Antigravity["Antigravity"]
    end
    
    subgraph Transport["ğŸ”„ Transport Layer"]
        Bridge["bridge.py<br/>(STDIOâ†’HTTP)"]
        Gateway["IBM Gateway<br/>:4444"]
    end
    
    subgraph Fleet["ğŸ³ Container Fleet"]
        Container["MCP Server<br/>(SSE mode)"]
    end
    
    Claude ---|"STDIO"| Bridge
    Cursor ---|"STDIO"| Bridge
    Antigravity ---|"STDIO"| Bridge
    Bridge ---|"HTTP/RPC"| Gateway
    Gateway ---|"SSE<br/>(streaming)"| Container
