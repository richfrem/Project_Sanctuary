classDiagram
    %% Git Workflow MCP Server - Safe Branch Management
    
    class project_sanctuary_system_git_workflow {
        <<System Domain>>
        +create_feature_branch(branch_name, base_branch?)
        +switch_branch(branch_name, stash_changes?)
        +push_current_branch(set_upstream?)
        +get_repo_status()
        +list_branches()
        +compare_branches(source, target)
    }
    
    class GitOperations {
        <<Shared Infrastructure>>
        +execute_git_command(command, args)
        +validate_branch_name(name)
        +check_branch_exists(name)
        +get_current_branch()
    }
    
    class SafetyValidator {
        <<Shared Infrastructure>>
        +validate_path(path)
        +assess_risk(operation, params)
        +is_protected_branch(branch_name)
    }
    
    class SchemaValidator {
        <<Shared Infrastructure>>
        +validate_branch_name_format(name)
        +validate_git_operation(operation)
    }
    
    %% Relationships
    project_sanctuary_system_git_workflow --> GitOperations : uses
    project_sanctuary_system_git_workflow --> SafetyValidator : validates
    project_sanctuary_system_git_workflow --> SchemaValidator : validates
    
    %% Safety Rules
    note for project_sanctuary_system_git_workflow "SAFETY RULES:<br/>✅ Read-only by default<br/>✅ Auto-stash before switch<br/>❌ No delete_branch<br/>❌ No merge/rebase<br/>❌ No force_push<br/>❌ No history rewriting<br/>⚠️ Protected branch checks"
    
    %% Tool Categories
    note for project_sanctuary_system_git_workflow "SAFE OPERATIONS:<br/>• Branch creation<br/>• Branch switching (with stash)<br/>• Push to remote<br/>• Status queries<br/>• Branch comparison<br/><br/>EXCLUDED (User Manual):<br/>• Branch deletion<br/>• Merging (use GitHub PR)<br/>• Pulling (avoid conflicts)<br/>• Rebasing<br/>• Force operations"
    
    %% Risk Level
    note for project_sanctuary_system_git_workflow "Risk Level: MODERATE<br/>Auto-Execute: YES (safe ops only)<br/>Hardware: Standard"

