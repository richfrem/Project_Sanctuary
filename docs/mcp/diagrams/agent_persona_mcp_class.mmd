%% Agent Persona MCP - Class Diagram
%% Shows cognitive-only operations (NO file/git ops)
%% Created: 2025-11-25

classDiagram
    class project_sanctuary_cognitive_agent_persona {
        +create_deliberation(description, output_path, max_rounds?, force_engine?, max_cortex_queries?, input_artifacts?) CommandQueueResult
        +create_dev_cycle(description, project_name, output_dir, force_engine?) CommandQueueResult
        +get_council_status() CouncilStatus
        +get_result(task_id) DeliberationResult
        -generate_command_json(params) object
        -monitor_orchestrator() CouncilStatus
        -retrieve_output(output_path) string
    }
    
    class CommandQueueResult {
        +string command_file
        +string status
        +string task_id
    }
    
    class CouncilStatus {
        +string status
        +string current_task
        +number uptime_seconds
    }
    
    class DeliberationResult {
        +string output_path
        +string content
        +string completed_at
        +number duration_seconds
    }
    
    class SafetyValidator {
        +assess_risk(operation, params) RiskAssessment
    }
    
    class SchemaValidator {
        +validate_deliberation_params(params) ValidationResult
    }
    
    class AgentPersonaServer {
        +process_command(command_json) void
        +get_status() object
    }
    
    project_sanctuary_cognitive_agent_persona --> CommandQueueResult : returns
    project_sanctuary_cognitive_agent_persona --> CouncilStatus : returns
    project_sanctuary_cognitive_agent_persona --> DeliberationResult : returns
    project_sanctuary_cognitive_agent_persona --> SafetyValidator : validates with
    project_sanctuary_cognitive_agent_persona --> SchemaValidator : validates with
    AgentPersonaMCP ..> AgentPersonaServer : generates commands for
    
    note for project_sanctuary_cognitive_agent_persona "Cognitive Only:\n- NO file system modifications\n- NO git operations\n- Generates command.json for orchestrator\n- Read-only result retrieval\n- 90-day result retention"
    
    note for project_sanctuary_cognitive_agent_persona "Relationship to Server:\u003cbr/\u003e- Agent Persona MCP is the CLIENT\u003cbr/\u003e- Generates command.json instructions\u003cbr/\u003e- Server is the EXECUTOR\u003cbr/\u003e- Clear separation of concerns"
