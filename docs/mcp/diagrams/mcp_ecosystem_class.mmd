---
title: MCP Ecosystem - Complete Class Diagram
description: High-level overview of all 10 MCP servers with links to detailed diagrams
version: 1.0
---

classDiagram
    %% Shared Infrastructure
    class GitOperations {
        <<Infrastructure>>
        +generate_manifest(files: string[])
        +commit_with_manifest(files, message, push)
        +validate_commit_message(message)
    }
    
    class SafetyValidator {
        <<Infrastructure>>
        +validate_path(path: string)
        +is_protected_file(path: string)
        +assess_risk(operation, params)
    }
    
    class SchemaValidator {
        <<Infrastructure>>
        +validate_chronicle_entry(entry)
        +validate_protocol(protocol)
        +validate_adr(adr)
        +validate_task(task)
    }
    
    class SecretVault {
        <<Infrastructure>>
        +store_secret(key, value, scope)
        +retrieve_secret(key)
        +list_secrets()
    }
    
    %% Document Domain MCPs
    class project_sanctuary_document_chronicle {
        <<project_sanctuary.document.chronicle>>
        Risk: MODERATE
        ---
        +create_chronicle_entry()
        +update_chronicle_entry()
        +get_chronicle_entry()
        +list_recent_entries()
        +search_chronicle()
        ---
        ðŸ“„ See: chronicle_mcp_class.mmd
    }
    
    class project_sanctuary_document_protocol {
        <<project_sanctuary.document.protocol>>
        Risk: HIGH
        ---
        +create_protocol()
        +update_protocol()
        +get_protocol()
        +list_protocols()
        +archive_protocol()
        ---
        ðŸ“„ See: protocol_mcp_class.mmd
    }
    
    class project_sanctuary_document_adr {
        <<project_sanctuary.document.adr>>
        Risk: MODERATE
        ---
        +create_adr()
        +update_adr_status()
        +get_adr()
        +list_adrs()
        +search_adrs()
        ---
        ðŸ“„ See: adr_mcp_class.mmd
    }
    
    class project_sanctuary_document_task {
        <<project_sanctuary.document.task>>
        Risk: MODERATE
        ---
        +create_task()
        +update_task_status()
        +update_task()
        +get_task()
        +list_tasks()
        ---
        ðŸ“„ See: task_mcp_class.mmd
    }
    
    %% Cognitive Domain MCPs
    class project_sanctuary_cognitive_cortex {
        <<project_sanctuary.cognitive.cortex>>
        Risk: MODERATE
        ---
        +query_cortex()
        +ingest_document()
        +update_index()
        +get_stats()
        +search_by_metadata()
        ---
        ðŸ“„ See: rag_mcp_cortex_class.mmd
    }
    
    class project_sanctuary_cognitive_council {
        <<project_sanctuary.cognitive.council>>
        Risk: SAFE
        ---
        +create_deliberation()
        +create_dev_cycle()
        +get_council_status()
        +get_result()
        ---
        ðŸ“„ See: agent_orchestrator_mcp_council_class.mmd
    }
    
    %% System Domain MCPs
    class project_sanctuary_system_config {
        <<project_sanctuary.system.config>>
        Risk: CRITICAL
        ---
        +request_config_change()
        +apply_config_change()
        +set_secret()
        +get_secret()
        +get_config()
        ---
        ðŸ“„ See: config_mcp_class.mmd
    }
    
    class project_sanctuary_system_code {
        <<project_sanctuary.system.code>>
        Risk: HIGH
        ---
        +write_code_file()
        +execute_code()
        +refactor_code()
        +get_code_file()
        +search_code()
        ---
        ðŸ“„ See: code_mcp_class.mmd
    }
    
    class project_sanctuary_system_git_workflow {
        <<project_sanctuary.system.git_workflow>>
        Risk: MODERATE
        ---
        +create_feature_branch()
        +switch_branch()
        +push_current_branch()
        +get_repo_status()
        +list_branches()
        +compare_branches()
        ---
        ðŸ“„ See: git_workflow_mcp_class.mmd
    }
    
    %% Model Domain MCP
    class project_sanctuary_model_fine_tuning {
        <<project_sanctuary.model.fine_tuning>>
        Risk: EXTREME
        Hardware: CUDA GPU
        ---
        +initialize_forge_environment()
        +check_resource_availability()
        +initiate_model_forge()
        +get_forge_job_status()
        +package_and_deploy_artifact()
        +run_inference_test()
        +publish_to_registry()
        +retrieve_registry_artifact()
        ---
        ðŸ“„ See: forge_mcp_class.mmd
    }
    
    %% Relationships: Document Domains â†’ Infrastructure
    ChronicleMCP --> GitOperations : uses
    ChronicleMCP --> SafetyValidator : validates
    ChronicleMCP --> SchemaValidator : validates
    
    ProtocolMCP --> GitOperations : uses
    ProtocolMCP --> SafetyValidator : validates
    ProtocolMCP --> SchemaValidator : validates
    
    ADRMCP --> GitOperations : uses
    ADRMCP --> SafetyValidator : validates
    ADRMCP --> SchemaValidator : validates
    
    TaskMCP --> GitOperations : uses
    TaskMCP --> SafetyValidator : validates
    TaskMCP --> SchemaValidator : validates
    
    %% Relationships: Cognitive Domains â†’ Infrastructure
    CortexMCP --> SafetyValidator : validates
    CortexMCP --> SchemaValidator : validates
    
    CouncilMCP --> SafetyValidator : validates
    CouncilMCP --> SchemaValidator : validates
    
    %% Relationships: System Domains â†’ Infrastructure
    ConfigMCP --> GitOperations : uses
    ConfigMCP --> SafetyValidator : validates
    ConfigMCP --> SchemaValidator : validates
    ConfigMCP --> SecretVault : manages
    
    CodeMCP --> GitOperations : uses
    CodeMCP --> SafetyValidator : validates
    CodeMCP --> SchemaValidator : validates
    
    GitWorkflowMCP --> GitOperations : uses
    GitWorkflowMCP --> SafetyValidator : validates
    GitWorkflowMCP --> SchemaValidator : validates
    
    %% Relationships: Model Domain â†’ Infrastructure
    project_sanctuary_model_fine_tuning --> GitOperations : uses
    project_sanctuary_model_fine_tuning --> SafetyValidator : validates
    project_sanctuary_model_fine_tuning --> SchemaValidator : validates
    project_sanctuary_model_fine_tuning --> SecretVault : uses (HF tokens)
    
    %% Cross-Domain Relationships
    project_sanctuary_model_fine_tuning ..> TaskMCP : requires authorization
    CouncilMCP ..> CortexMCP : queries for context
    
    %% Notes
    note for ChronicleMCP "7-day modification window<br/>Sequential entry numbers"
    note for ProtocolMCP "Version bump required<br/>Cannot delete (archive only)"
    note for ConfigMCP "Two-step approval<br/>Automatic backup"
    note for CodeMCP "Mandatory testing pipeline<br/>Sandbox execution"
    note for project_sanctuary_model_fine_tuning "State machine governance<br/>CUDA environment required"
    note for GitWorkflowMCP "Safe operations only<br/>No merge/rebase/force-push"

