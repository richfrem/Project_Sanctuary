flowchart TD
    Start([User Needs Context]) --> Check{Is Cache Built?}
    
    Check -- No --> Build[Run Distiller]
    Build --> CmdBuild[/"python tools/codify/rlm/distiller.py"/]
    CmdBuild -- "Process all files" --> Cache[(RLM Ledger)]
    
    Check -- Yes --> Audit[Check Coverage]
    Audit --> CmdAudit[/"python tools/retrieve/rlm/inventory.py"/]
    CmdAudit -- "Missing Files?" --> Gaps{Gaps Found?}
    
    Gaps -- Yes --> Patch[Distill Specfic File]
    Patch --> CmdPatch[/"python tools/codify/rlm/distiller.py --file [path]"/]
    CmdPatch --> Cache
    
    Gaps -- No --> Search[Query Cache]
    Search --> CmdSearch[/"python tools/retrieve/rlm/query_cache.py 'term'"/]
    CmdSearch -- "Result: JSON/Text" --> Result([Context Retrieved])
