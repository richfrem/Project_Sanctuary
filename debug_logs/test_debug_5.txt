============================= test session starts ==============================
platform darwin -- Python 3.13.4, pytest-8.4.1, pluggy-1.6.0 -- /usr/local/bin/python3
cachedir: .pytest_cache
benchmark: 5.2.3 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: /Users/richardfremmerlid/Projects/Project_Sanctuary
configfile: pytest.ini
plugins: benchmark-5.2.3, anyio-4.9.0, langsmith-0.4.31, cov-6.2.1, typeguard-4.4.4
collecting ... collected 1 item

tests/mcp_servers/orchestrator/e2e/test_protocol_056_headless.py::TestProtocol056Headless::test_triple_loop_scenario ERROR

==================================== ERRORS ====================================
_____ ERROR at setup of TestProtocol056Headless.test_triple_loop_scenario ______

    @pytest.fixture(scope="session")
    def mcp_fleet():
        """
        Session-scoped fixture that starts the entire MCP server fleet.
        Yields an MCPServerFleet instance.
        """
>       from tests.mcp_servers.base.mcp_server_fleet import MCPServerFleet

tests/mcp_servers/conftest.py:94: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/mcp_servers/base/mcp_server_fleet.py:6: in <module>
    from tests.mcp_servers.base.mcp_test_client import MCPTestClient
tests/mcp_servers/base/mcp_test_client.py:14: in <module>
    class MCPTestClient:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    class MCPTestClient:
        """
        Test Client for Headless MCP Servers.
    
        A lightweight MCP Client for E2E testing.
        Spawns a server process and communicates via JSON-RPC 2.0 over stdio.
        """
>       def __init__(self, server_target: Union[Path, str], is_module: bool = False):
                                          ^^^^^
E       NameError: name 'Union' is not defined

tests/mcp_servers/base/mcp_test_client.py:21: NameError
=========================== short test summary info ============================
ERROR tests/mcp_servers/orchestrator/e2e/test_protocol_056_headless.py::TestProtocol056Headless::test_triple_loop_scenario
=============================== 1 error in 0.06s ===============================
