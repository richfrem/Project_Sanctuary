============================= test session starts ==============================
platform darwin -- Python 3.13.4, pytest-8.4.1, pluggy-1.6.0 -- /usr/local/bin/python3
cachedir: .pytest_cache
benchmark: 5.2.3 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: /Users/richardfremmerlid/Projects/Project_Sanctuary
configfile: pytest.ini
plugins: benchmark-5.2.3, anyio-4.9.0, langsmith-0.4.31, cov-6.2.1, typeguard-4.4.4
collecting ... collected 1 item

tests/mcp_servers/orchestrator/e2e/test_protocol_056_headless.py::TestProtocol056Headless::test_triple_loop_scenario 
-------------------------------- live log setup --------------------------------
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:21 Starting MCP Server Fleet...
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:43 Booting code...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:43 Starting MCP Server: /usr/local/bin/python3 -m mcp_servers.code.server
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:55 Server started (PID 27124)
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                         â–„â–€â–€ â–„â–€â–ˆ â–ˆâ–€â–€ â–€â–ˆâ–€ â–ˆâ–€â–„â–€â–ˆ â–ˆâ–€â–€ â–ˆâ–€â–ˆ                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                         â–ˆâ–€  â–ˆâ–€â–ˆ â–„â–„â–ˆ  â–ˆ  â–ˆ â–€ â–ˆ â–ˆâ–„â–„ â–ˆâ–€â–€                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                                FastMCP 2.13.1                                â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                    ðŸ–¥  Server name: project_sanctuary.code                    â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                    ðŸ“¦ Transport:   STDIO                                     â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                    ðŸ“š Docs:        https://gofastmcp.com                     â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                    ðŸš€ Hosting:     https://fastmcp.cloud                     â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: [12/14/25 16:55:31] INFO     Starting MCP server                  server.py:1971
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: 'project_sanctuary.code' with
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: transport 'stdio'
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:94 Server initialized. Capabilities: {'experimental': {}, 'prompts': {'listChanged': False}, 'resources': {'subscribe': False, 'listChanged': False}, 'tools': {'listChanged': True}}
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:43 Booting rag_cortex...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:43 Starting MCP Server: /usr/local/bin/python3 -m mcp_servers.rag_cortex.server
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:55 Server started (PID 27131)
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:33,009 - rag_cortex - INFO - Skipping container checks (SKIP_CONTAINER_CHECKS set)
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚                         â–„â–€â–€ â–„â–€â–ˆ â–ˆâ–€â–€ â–€â–ˆâ–€ â–ˆâ–€â–„â–€â–ˆ â–ˆâ–€â–€ â–ˆâ–€â–ˆ                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚                         â–ˆâ–€  â–ˆâ–€â–ˆ â–„â–„â–ˆ  â–ˆ  â–ˆ â–€ â–ˆ â–ˆâ–„â–„ â–ˆâ–€â–€                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚                                FastMCP 2.13.1                                â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚              ðŸ–¥  Server name: project_sanctuary.cognitive.cortex              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚              ðŸ“¦ Transport:   STDIO                                           â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚              ðŸ“š Docs:        https://gofastmcp.com                           â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚              ðŸš€ Hosting:     https://fastmcp.cloud                           â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: [12/14/25 16:55:33] INFO     Starting MCP server                  server.py:1971
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 'project_sanctuary.cognitive.cortex'
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: with transport 'stdio'
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:94 Server initialized. Capabilities: {'experimental': {}, 'prompts': {'listChanged': False}, 'resources': {'subscribe': False, 'listChanged': False}, 'tools': {'listChanged': True}}
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:43 Booting chronicle...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:43 Starting MCP Server: /usr/local/bin/python3 -m mcp_servers.chronicle.server
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:55 Server started (PID 27134)
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                         â–„â–€â–€ â–„â–€â–ˆ â–ˆâ–€â–€ â–€â–ˆâ–€ â–ˆâ–€â–„â–€â–ˆ â–ˆâ–€â–€ â–ˆâ–€â–ˆ                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                         â–ˆâ–€  â–ˆâ–€â–ˆ â–„â–„â–ˆ  â–ˆ  â–ˆ â–€ â–ˆ â–ˆâ–„â–„ â–ˆâ–€â–€                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                                FastMCP 2.13.1                                â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                 ðŸ–¥  Server name: project_sanctuary.chronicle                  â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                 ðŸ“¦ Transport:   STDIO                                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                 ðŸ“š Docs:        https://gofastmcp.com                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                 ðŸš€ Hosting:     https://fastmcp.cloud                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: [12/14/25 16:55:34] INFO     Starting MCP server                  server.py:1971
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: 'project_sanctuary.chronicle' with
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: transport 'stdio'
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:94 Server initialized. Capabilities: {'experimental': {}, 'prompts': {'listChanged': False}, 'resources': {'subscribe': False, 'listChanged': False}, 'tools': {'listChanged': True}}
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:43 Booting git...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:43 Starting MCP Server: /usr/local/bin/python3 -m mcp_servers.git.server
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:55 Server started (PID 27148)
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                         â–„â–€â–€ â–„â–€â–ˆ â–ˆâ–€â–€ â–€â–ˆâ–€ â–ˆâ–€â–„â–€â–ˆ â–ˆâ–€â–€ â–ˆâ–€â–ˆ                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                         â–ˆâ–€  â–ˆâ–€â–ˆ â–„â–„â–ˆ  â–ˆ  â–ˆ â–€ â–ˆ â–ˆâ–„â–„ â–ˆâ–€â–€                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                                FastMCP 2.13.1                                â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                    ðŸ–¥  Server name: project_sanctuary.git                     â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                    ðŸ“¦ Transport:   STDIO                                     â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                    ðŸ“š Docs:        https://gofastmcp.com                     â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                    ðŸš€ Hosting:     https://fastmcp.cloud                     â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: [12/14/25 16:55:35] INFO     Starting MCP server                  server.py:1971
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: 'project_sanctuary.git' with
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: transport 'stdio'
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:94 Server initialized. Capabilities: {'experimental': {}, 'prompts': {'listChanged': False}, 'resources': {'subscribe': False, 'listChanged': False}, 'tools': {'listChanged': True}}
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:43 Booting orchestrator...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:43 Starting MCP Server: /usr/local/bin/python3 -m mcp_servers.orchestrator.server
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:55 Server started (PID 27149)
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:94 Server initialized. Capabilities: {'experimental': {}, 'prompts': {'listChanged': False}, 'resources': {'subscribe': False, 'listChanged': False}, 'tools': {'listChanged': False}}
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:43 Booting agent_persona...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:43 Starting MCP Server: /usr/local/bin/python3 -m mcp_servers.agent_persona.server
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:55 Server started (PID 27150)
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [agent_persona] Output: mcp_servers.agent_persona.agent_persona_ops - INFO - [Agent Persona MCP] Initialized with persona_dir: /Users/richardfremmerlid/Projects/Project_Sanctuary/mcp_servers/agent_persona/personas
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [agent_persona] Output: [12/14/25 16:55:37] INFO     [Agent Persona MCP]         agent_persona_ops.py:51
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [agent_persona] Output: Initialized with
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [agent_persona] Output: persona_dir:
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [agent_persona] Output: /Users/richardfremmerlid/Pr
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [agent_persona] Output: ojects/Project_Sanctuary/mc
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [agent_persona] Output: p_servers/agent_persona/per
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [agent_persona] Output: sonas
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:94 Server initialized. Capabilities: {'experimental': {}, 'prompts': {'listChanged': False}, 'resources': {'subscribe': False, 'listChanged': False}, 'tools': {'listChanged': False}}
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:55 Warming up servers...
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:60 Pre-loading RAG Cortex dependencies (ChromaDB, LangChain, embeddings)...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:37,892 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:45,405 - torchao - WARNING - Skipping import of cpp extensions due to incompatible torch version 2.7.1 for torchao version 0.14.1             Please see https://github.com/pytorch/ao/issues/2919 for more info
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:45,412 - torchao.kernel.intmm - WARNING - Warning: Detected no triton, on systems without Triton certain kernels will not work
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,498 - chromadb.telemetry.product.posthog - INFO - Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,604 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/auth/identity "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,605 - chromadb.telemetry.product.posthog - INFO - Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,632 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,634 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,642 - httpx - INFO - HTTP Request: POST http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,646 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/child_chunks_v5 "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,666 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/d0603652-fdc9-4b61-b7f3-ace2bdb9cd0b/count "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,667 - rag_cortex.operations - INFO - Child collection 'child_chunks_v5' count: 6325
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,667 - rag_cortex.operations - INFO - Child collection 'child_chunks_v5' count: 6325
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,682 - rag_cortex.operations - INFO - Parent document store 'parent_documents_v5' count: 1098
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,682 - rag_cortex.operations - INFO - Parent document store 'parent_documents_v5' count: 1098
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,682 - rag_cortex.operations - INFO - RAG Cortex health status: healthy
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,682 - rag_cortex.operations - INFO - RAG Cortex health status: healthy
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:68 RAG Cortex warmed up in 9.79s
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:72 Server warmup complete.
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:51 Fleet started with 6 servers.
-------------------------------- live log call ---------------------------------
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:89 === Cycle 1: Validation Policy Generation ===
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,705 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,706 - rag_cortex.operations - INFO - Processing 1 documents from /Users/richardfremmerlid/Projects/Project_Sanctuary/WORK_IN_PROGRESS/test_runs/Protocol_056_Validation_Policy.md with parent-child splitting...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,706 - rag_cortex.operations - INFO - Processing 1 documents from /Users/richardfremmerlid/Projects/Project_Sanctuary/WORK_IN_PROGRESS/test_runs/Protocol_056_Validation_Policy.md with parent-child splitting...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,706 - rag_cortex.operations - INFO - Adding 1 child chunks to vectorstore...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,706 - rag_cortex.operations - INFO - Adding 1 child chunks to vectorstore...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:48,975 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/pre-flight-checks "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:49,052 - httpx - INFO - HTTP Request: POST http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/d0603652-fdc9-4b61-b7f3-ace2bdb9cd0b/upsert "HTTP/1.1 200 OK"
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:60 Waiting for ingestion... Attempt 1/5
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:51,062 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:51,077 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/child_chunks_v5 "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:51,145 - httpx - INFO - HTTP Request: POST http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/d0603652-fdc9-4b61-b7f3-ace2bdb9cd0b/query "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:51,146 - rag_cortex.operations - INFO - Query 'validation phrase...' completed in 82.69ms with 1 results.
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:51,146 - rag_cortex.operations - INFO - Query 'validation phrase...' completed in 82.69ms with 1 results.
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:63 Query response type: <class 'dict'>, value: {'content': [{'type': 'text', 'text': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 82.69476890563965,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}], 'structuredContent': {'result': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 82.69476890563965,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}, 'isError': False}
WARNING  orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:77 No results found. Response: {'content': [{'type': 'text', 'text': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 82.69476890563965,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}], 'structuredContent': {'result': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 82.69476890563965,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}, 'isError': False}
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:60 Waiting for ingestion... Attempt 2/5
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:53,171 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:53,188 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/child_chunks_v5 "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:53,337 - httpx - INFO - HTTP Request: POST http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/d0603652-fdc9-4b61-b7f3-ace2bdb9cd0b/query "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:53,337 - rag_cortex.operations - INFO - Query 'validation phrase...' completed in 165.11ms with 1 results.
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:53,337 - rag_cortex.operations - INFO - Query 'validation phrase...' completed in 165.11ms with 1 results.
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:63 Query response type: <class 'dict'>, value: {'content': [{'type': 'text', 'text': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 165.1139259338379,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}], 'structuredContent': {'result': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 165.1139259338379,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}, 'isError': False}
WARNING  orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:77 No results found. Response: {'content': [{'type': 'text', 'text': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 165.1139259338379,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}], 'structuredContent': {'result': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 165.1139259338379,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}, 'isError': False}
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:60 Waiting for ingestion... Attempt 3/5
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:55,353 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:55,366 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/child_chunks_v5 "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:55,541 - httpx - INFO - HTTP Request: POST http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/d0603652-fdc9-4b61-b7f3-ace2bdb9cd0b/query "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:55,545 - rag_cortex.operations - INFO - Query 'validation phrase...' completed in 188.50ms with 1 results.
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:55,545 - rag_cortex.operations - INFO - Query 'validation phrase...' completed in 188.50ms with 1 results.
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:63 Query response type: <class 'dict'>, value: {'content': [{'type': 'text', 'text': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 188.49706649780273,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}], 'structuredContent': {'result': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 188.49706649780273,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}, 'isError': False}
WARNING  orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:77 No results found. Response: {'content': [{'type': 'text', 'text': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 188.49706649780273,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}], 'structuredContent': {'result': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 188.49706649780273,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}, 'isError': False}
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:60 Waiting for ingestion... Attempt 4/5
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:57,551 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:57,554 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/child_chunks_v5 "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:57,594 - httpx - INFO - HTTP Request: POST http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/d0603652-fdc9-4b61-b7f3-ace2bdb9cd0b/query "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:57,595 - rag_cortex.operations - INFO - Query 'validation phrase...' completed in 43.25ms with 1 results.
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:57,595 - rag_cortex.operations - INFO - Query 'validation phrase...' completed in 43.25ms with 1 results.
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:63 Query response type: <class 'dict'>, value: {'content': [{'type': 'text', 'text': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 43.247222900390625,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}], 'structuredContent': {'result': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 43.247222900390625,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}, 'isError': False}
WARNING  orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:77 No results found. Response: {'content': [{'type': 'text', 'text': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 43.247222900390625,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}], 'structuredContent': {'result': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 43.247222900390625,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}, 'isError': False}
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:60 Waiting for ingestion... Attempt 5/5
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:59,599 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:59,602 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/child_chunks_v5 "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:59,640 - httpx - INFO - HTTP Request: POST http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/d0603652-fdc9-4b61-b7f3-ace2bdb9cd0b/query "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:59,640 - rag_cortex.operations - INFO - Query 'validation phrase...' completed in 41.44ms with 1 results.
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:59,640 - rag_cortex.operations - INFO - Query 'validation phrase...' completed in 41.44ms with 1 results.
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:63 Query response type: <class 'dict'>, value: {'content': [{'type': 'text', 'text': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 41.443824768066406,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}], 'structuredContent': {'result': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 41.443824768066406,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}, 'isError': False}
WARNING  orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:77 No results found. Response: {'content': [{'type': 'text', 'text': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 41.443824768066406,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}], 'structuredContent': {'result': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 41.443824768066406,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}, 'isError': False}
FAILED
------------------------------ live log teardown -------------------------------
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:76 Stopping MCP Server Fleet...
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:78 Stopping code...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:114 Server stopped
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:78 Stopping rag_cortex...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:114 Server stopped
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:78 Stopping chronicle...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:114 Server stopped
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:78 Stopping git...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:114 Server stopped
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:78 Stopping orchestrator...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:114 Server stopped
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:78 Stopping agent_persona...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:114 Server stopped


=================================== FAILURES ===================================
______________ TestProtocol056Headless.test_triple_loop_scenario _______________

self = <orchestrator.e2e.test_protocol_056_headless.TestProtocol056Headless object at 0x10c9b6850>
essential_fleet = <tests.mcp_servers.base.mcp_server_fleet.MCPServerFleet object at 0x10c92b770>
caplog = <_pytest.logging.LogCaptureFixture object at 0x10ca1c830>

    @pytest.mark.e2e
    def test_triple_loop_scenario(self, essential_fleet, caplog):
        """
        Executes the 'Triple Recursive Loop' scenario + Architecture Analysis (Cycle 4).
    
        Cycles:
        1. Validation Policy: Create -> Ingest -> Verify
        2. Integrity Verification: Create Chronicle -> Ingest -> Create Report (referencing Policy/Chronicle) -> Ingest
        3. Recursive Meta-Validation: Query for Report -> Verify it references Policy & Chronicle
        4. Architecture Analysis: Agent Persona (Strategist) -> Analyze -> Chronicle -> Ingest -> Verify
        """
        caplog.set_level(logging.INFO)
        mcp_fleet = essential_fleet
    
        # --- Clients ---
        code_client = mcp_fleet.get_client("code")
        cortex_client = mcp_fleet.get_client("rag_cortex")
        chronicle_client = mcp_fleet.get_client("chronicle")
        git_client = mcp_fleet.get_client("git")
        orchestrator_client = mcp_fleet.get_client("orchestrator")
        persona_client = mcp_fleet.get_client("agent_persona")
    
        # --- Helpers ---
        def wait_for_ingestion(query, expected_text, max_retries=5):
            """Wait for RAG to index content."""
            for i in range(max_retries):
                logger.info(f"Waiting for ingestion... Attempt {i+1}/{max_retries}")
                time.sleep(2)
                res = cortex_client.call_tool("cortex_query", {"query": query, "max_results": 1})
                logger.info(f"Query response type: {type(res)}, value: {res}")
    
                # Handle JSON string response
                if isinstance(res, str):
                    import json
                    res = json.loads(res)
    
                if res and "results" in res and len(res["results"]) > 0:
                    content = res["results"][0].get("content", "")
                    logger.info(f"Retrieved content preview: {content[:200]}...")
                    if expected_text in content:
                        logger.info("Content verified in RAG.")
                        return True
                else:
                    logger.warning(f"No results found. Response: {res}")
            return False
    
        def parse_chronicle_path(response_str):
            """Extract path from 'Created Chronicle Entry X: /path/to/file'"""
            if isinstance(response_str, str) and ": " in response_str:
                parts = response_str.split(": ")
                if len(parts) >= 2:
                    return parts[1].strip()
            return None
    
        # --- CYCLE 1: Validation Policy ---
        logger.info("=== Cycle 1: Validation Policy Generation ===")
        # Use a subfolder to avoid cluttering root
        test_dir = "WORK_IN_PROGRESS/test_runs"
        policy_path = f"{test_dir}/Protocol_056_Validation_Policy.md"
    
        policy_content = (
            "# Protocol 056 Validation Policy\n\n"
            "## Core Directives\n"
            "1. **Iron Root Doctrine**: All system states must be verified against immutable logs.\n"
            "2. **Recursive Check**: The verification process must verify itself.\n"
            "3. **Validation Phrase**: 'The Guardian confirms Validation Protocol 056 is active.'\n"
        )
    
        # 1. Create Policy
        code_client.call_tool("code_write", {
            "path": policy_path,
            "content": policy_content,
            "backup": True,
            "create_dirs": True
        })
    
        # 2. Ingest Policy
        cortex_client.call_tool("cortex_ingest_incremental", {
            "file_paths": [policy_path],
            "skip_duplicates": False
        })
    
        # 3. Verify Ingestion
>       assert wait_for_ingestion("validation phrase", "The Guardian confirms"), "Cycle 1 Failed: Policy keyphrase not found in RAG."
E       AssertionError: Cycle 1 Failed: Policy keyphrase not found in RAG.
E       assert False
E        +  where False = <function TestProtocol056Headless.test_triple_loop_scenario.<locals>.wait_for_ingestion at 0x10c9ea660>('validation phrase', 'The Guardian confirms')

tests/mcp_servers/orchestrator/e2e/test_protocol_056_headless.py:117: AssertionError
------------------------------ Captured log setup ------------------------------
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:21 Starting MCP Server Fleet...
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:43 Booting code...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:43 Starting MCP Server: /usr/local/bin/python3 -m mcp_servers.code.server
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:55 Server started (PID 27124)
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                         â–„â–€â–€ â–„â–€â–ˆ â–ˆâ–€â–€ â–€â–ˆâ–€ â–ˆâ–€â–„â–€â–ˆ â–ˆâ–€â–€ â–ˆâ–€â–ˆ                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                         â–ˆâ–€  â–ˆâ–€â–ˆ â–„â–„â–ˆ  â–ˆ  â–ˆ â–€ â–ˆ â–ˆâ–„â–„ â–ˆâ–€â–€                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                                FastMCP 2.13.1                                â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                    ðŸ–¥  Server name: project_sanctuary.code                    â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                    ðŸ“¦ Transport:   STDIO                                     â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                    ðŸ“š Docs:        https://gofastmcp.com                     â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                    ðŸš€ Hosting:     https://fastmcp.cloud                     â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: [12/14/25 16:55:31] INFO     Starting MCP server                  server.py:1971
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: 'project_sanctuary.code' with
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [code] Output: transport 'stdio'
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:94 Server initialized. Capabilities: {'experimental': {}, 'prompts': {'listChanged': False}, 'resources': {'subscribe': False, 'listChanged': False}, 'tools': {'listChanged': True}}
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:43 Booting rag_cortex...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:43 Starting MCP Server: /usr/local/bin/python3 -m mcp_servers.rag_cortex.server
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:55 Server started (PID 27131)
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:33,009 - rag_cortex - INFO - Skipping container checks (SKIP_CONTAINER_CHECKS set)
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚                         â–„â–€â–€ â–„â–€â–ˆ â–ˆâ–€â–€ â–€â–ˆâ–€ â–ˆâ–€â–„â–€â–ˆ â–ˆâ–€â–€ â–ˆâ–€â–ˆ                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚                         â–ˆâ–€  â–ˆâ–€â–ˆ â–„â–„â–ˆ  â–ˆ  â–ˆ â–€ â–ˆ â–ˆâ–„â–„ â–ˆâ–€â–€                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚                                FastMCP 2.13.1                                â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚              ðŸ–¥  Server name: project_sanctuary.cognitive.cortex              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚              ðŸ“¦ Transport:   STDIO                                           â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚              ðŸ“š Docs:        https://gofastmcp.com                           â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚              ðŸš€ Hosting:     https://fastmcp.cloud                           â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: [12/14/25 16:55:33] INFO     Starting MCP server                  server.py:1971
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 'project_sanctuary.cognitive.cortex'
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: with transport 'stdio'
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:94 Server initialized. Capabilities: {'experimental': {}, 'prompts': {'listChanged': False}, 'resources': {'subscribe': False, 'listChanged': False}, 'tools': {'listChanged': True}}
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:43 Booting chronicle...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:43 Starting MCP Server: /usr/local/bin/python3 -m mcp_servers.chronicle.server
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:55 Server started (PID 27134)
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                         â–„â–€â–€ â–„â–€â–ˆ â–ˆâ–€â–€ â–€â–ˆâ–€ â–ˆâ–€â–„â–€â–ˆ â–ˆâ–€â–€ â–ˆâ–€â–ˆ                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                         â–ˆâ–€  â–ˆâ–€â–ˆ â–„â–„â–ˆ  â–ˆ  â–ˆ â–€ â–ˆ â–ˆâ–„â–„ â–ˆâ–€â–€                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                                FastMCP 2.13.1                                â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                 ðŸ–¥  Server name: project_sanctuary.chronicle                  â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                 ðŸ“¦ Transport:   STDIO                                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                 ðŸ“š Docs:        https://gofastmcp.com                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                 ðŸš€ Hosting:     https://fastmcp.cloud                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: [12/14/25 16:55:34] INFO     Starting MCP server                  server.py:1971
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: 'project_sanctuary.chronicle' with
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [chronicle] Output: transport 'stdio'
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:94 Server initialized. Capabilities: {'experimental': {}, 'prompts': {'listChanged': False}, 'resources': {'subscribe': False, 'listChanged': False}, 'tools': {'listChanged': True}}
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:43 Booting git...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:43 Starting MCP Server: /usr/local/bin/python3 -m mcp_servers.git.server
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:55 Server started (PID 27148)
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                         â–„â–€â–€ â–„â–€â–ˆ â–ˆâ–€â–€ â–€â–ˆâ–€ â–ˆâ–€â–„â–€â–ˆ â–ˆâ–€â–€ â–ˆâ–€â–ˆ                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                         â–ˆâ–€  â–ˆâ–€â–ˆ â–„â–„â–ˆ  â–ˆ  â–ˆ â–€ â–ˆ â–ˆâ–„â–„ â–ˆâ–€â–€                        â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                                FastMCP 2.13.1                                â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                    ðŸ–¥  Server name: project_sanctuary.git                     â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                    ðŸ“¦ Transport:   STDIO                                     â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                    ðŸ“š Docs:        https://gofastmcp.com                     â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                    ðŸš€ Hosting:     https://fastmcp.cloud                     â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â”‚                                                                              â”‚
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: 
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: [12/14/25 16:55:35] INFO     Starting MCP server                  server.py:1971
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: 'project_sanctuary.git' with
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [git] Output: transport 'stdio'
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:94 Server initialized. Capabilities: {'experimental': {}, 'prompts': {'listChanged': False}, 'resources': {'subscribe': False, 'listChanged': False}, 'tools': {'listChanged': True}}
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:43 Booting orchestrator...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:43 Starting MCP Server: /usr/local/bin/python3 -m mcp_servers.orchestrator.server
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:55 Server started (PID 27149)
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:94 Server initialized. Capabilities: {'experimental': {}, 'prompts': {'listChanged': False}, 'resources': {'subscribe': False, 'listChanged': False}, 'tools': {'listChanged': False}}
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:43 Booting agent_persona...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:43 Starting MCP Server: /usr/local/bin/python3 -m mcp_servers.agent_persona.server
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:55 Server started (PID 27150)
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [agent_persona] Output: mcp_servers.agent_persona.agent_persona_ops - INFO - [Agent Persona MCP] Initialized with persona_dir: /Users/richardfremmerlid/Projects/Project_Sanctuary/mcp_servers/agent_persona/personas
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [agent_persona] Output: [12/14/25 16:55:37] INFO     [Agent Persona MCP]         agent_persona_ops.py:51
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [agent_persona] Output: Initialized with
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [agent_persona] Output: persona_dir:
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [agent_persona] Output: /Users/richardfremmerlid/Pr
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [agent_persona] Output: ojects/Project_Sanctuary/mc
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [agent_persona] Output: p_servers/agent_persona/per
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [agent_persona] Output: sonas
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:94 Server initialized. Capabilities: {'experimental': {}, 'prompts': {'listChanged': False}, 'resources': {'subscribe': False, 'listChanged': False}, 'tools': {'listChanged': False}}
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:55 Warming up servers...
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:60 Pre-loading RAG Cortex dependencies (ChromaDB, LangChain, embeddings)...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:37,892 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:45,405 - torchao - WARNING - Skipping import of cpp extensions due to incompatible torch version 2.7.1 for torchao version 0.14.1             Please see https://github.com/pytorch/ao/issues/2919 for more info
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:45,412 - torchao.kernel.intmm - WARNING - Warning: Detected no triton, on systems without Triton certain kernels will not work
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,498 - chromadb.telemetry.product.posthog - INFO - Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,604 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/auth/identity "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,605 - chromadb.telemetry.product.posthog - INFO - Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,632 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,634 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,642 - httpx - INFO - HTTP Request: POST http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,646 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/child_chunks_v5 "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,666 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/d0603652-fdc9-4b61-b7f3-ace2bdb9cd0b/count "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,667 - rag_cortex.operations - INFO - Child collection 'child_chunks_v5' count: 6325
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,667 - rag_cortex.operations - INFO - Child collection 'child_chunks_v5' count: 6325
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,682 - rag_cortex.operations - INFO - Parent document store 'parent_documents_v5' count: 1098
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,682 - rag_cortex.operations - INFO - Parent document store 'parent_documents_v5' count: 1098
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,682 - rag_cortex.operations - INFO - RAG Cortex health status: healthy
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,682 - rag_cortex.operations - INFO - RAG Cortex health status: healthy
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:68 RAG Cortex warmed up in 9.79s
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:72 Server warmup complete.
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:51 Fleet started with 6 servers.
------------------------------ Captured log call -------------------------------
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:89 === Cycle 1: Validation Policy Generation ===
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,705 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,706 - rag_cortex.operations - INFO - Processing 1 documents from /Users/richardfremmerlid/Projects/Project_Sanctuary/WORK_IN_PROGRESS/test_runs/Protocol_056_Validation_Policy.md with parent-child splitting...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,706 - rag_cortex.operations - INFO - Processing 1 documents from /Users/richardfremmerlid/Projects/Project_Sanctuary/WORK_IN_PROGRESS/test_runs/Protocol_056_Validation_Policy.md with parent-child splitting...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,706 - rag_cortex.operations - INFO - Adding 1 child chunks to vectorstore...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:47,706 - rag_cortex.operations - INFO - Adding 1 child chunks to vectorstore...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:48,975 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/pre-flight-checks "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:49,052 - httpx - INFO - HTTP Request: POST http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/d0603652-fdc9-4b61-b7f3-ace2bdb9cd0b/upsert "HTTP/1.1 200 OK"
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:60 Waiting for ingestion... Attempt 1/5
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:51,062 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:51,077 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/child_chunks_v5 "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:51,145 - httpx - INFO - HTTP Request: POST http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/d0603652-fdc9-4b61-b7f3-ace2bdb9cd0b/query "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:51,146 - rag_cortex.operations - INFO - Query 'validation phrase...' completed in 82.69ms with 1 results.
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:51,146 - rag_cortex.operations - INFO - Query 'validation phrase...' completed in 82.69ms with 1 results.
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:63 Query response type: <class 'dict'>, value: {'content': [{'type': 'text', 'text': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 82.69476890563965,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}], 'structuredContent': {'result': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 82.69476890563965,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}, 'isError': False}
WARNING  orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:77 No results found. Response: {'content': [{'type': 'text', 'text': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 82.69476890563965,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}], 'structuredContent': {'result': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 82.69476890563965,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}, 'isError': False}
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:60 Waiting for ingestion... Attempt 2/5
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:53,171 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:53,188 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/child_chunks_v5 "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:53,337 - httpx - INFO - HTTP Request: POST http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/d0603652-fdc9-4b61-b7f3-ace2bdb9cd0b/query "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:53,337 - rag_cortex.operations - INFO - Query 'validation phrase...' completed in 165.11ms with 1 results.
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:53,337 - rag_cortex.operations - INFO - Query 'validation phrase...' completed in 165.11ms with 1 results.
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:63 Query response type: <class 'dict'>, value: {'content': [{'type': 'text', 'text': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 165.1139259338379,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}], 'structuredContent': {'result': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 165.1139259338379,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}, 'isError': False}
WARNING  orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:77 No results found. Response: {'content': [{'type': 'text', 'text': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 165.1139259338379,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}], 'structuredContent': {'result': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 165.1139259338379,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}, 'isError': False}
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:60 Waiting for ingestion... Attempt 3/5
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:55,353 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:55,366 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/child_chunks_v5 "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:55,541 - httpx - INFO - HTTP Request: POST http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/d0603652-fdc9-4b61-b7f3-ace2bdb9cd0b/query "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:55,545 - rag_cortex.operations - INFO - Query 'validation phrase...' completed in 188.50ms with 1 results.
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:55,545 - rag_cortex.operations - INFO - Query 'validation phrase...' completed in 188.50ms with 1 results.
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:63 Query response type: <class 'dict'>, value: {'content': [{'type': 'text', 'text': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 188.49706649780273,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}], 'structuredContent': {'result': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 188.49706649780273,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}, 'isError': False}
WARNING  orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:77 No results found. Response: {'content': [{'type': 'text', 'text': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 188.49706649780273,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}], 'structuredContent': {'result': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 188.49706649780273,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}, 'isError': False}
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:60 Waiting for ingestion... Attempt 4/5
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:57,551 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:57,554 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/child_chunks_v5 "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:57,594 - httpx - INFO - HTTP Request: POST http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/d0603652-fdc9-4b61-b7f3-ace2bdb9cd0b/query "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:57,595 - rag_cortex.operations - INFO - Query 'validation phrase...' completed in 43.25ms with 1 results.
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:57,595 - rag_cortex.operations - INFO - Query 'validation phrase...' completed in 43.25ms with 1 results.
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:63 Query response type: <class 'dict'>, value: {'content': [{'type': 'text', 'text': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 43.247222900390625,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}], 'structuredContent': {'result': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 43.247222900390625,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}, 'isError': False}
WARNING  orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:77 No results found. Response: {'content': [{'type': 'text', 'text': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 43.247222900390625,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}], 'structuredContent': {'result': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 43.247222900390625,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}, 'isError': False}
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:60 Waiting for ingestion... Attempt 5/5
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:59,599 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:59,602 - httpx - INFO - HTTP Request: GET http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/child_chunks_v5 "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:59,640 - httpx - INFO - HTTP Request: POST http://localhost:8000/api/v2/tenants/default_tenant/databases/default_database/collections/d0603652-fdc9-4b61-b7f3-ace2bdb9cd0b/query "HTTP/1.1 200 OK"
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:59,640 - rag_cortex.operations - INFO - Query 'validation phrase...' completed in 41.44ms with 1 results.
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:150 [rag_cortex] Output: 2025-12-14 16:55:59,640 - rag_cortex.operations - INFO - Query 'validation phrase...' completed in 41.44ms with 1 results.
INFO     orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:63 Query response type: <class 'dict'>, value: {'content': [{'type': 'text', 'text': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 41.443824768066406,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}], 'structuredContent': {'result': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 41.443824768066406,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}, 'isError': False}
WARNING  orchestrator.e2e.test_protocol_056_headless:test_protocol_056_headless.py:77 No results found. Response: {'content': [{'type': 'text', 'text': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 41.443824768066406,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}], 'structuredContent': {'result': '{\n  "results": [\n    {\n      "content": "**Status:** VERIFIED\\n\\n**Evidence:**\\n- **Exact phrase found** in `DOCS/TEST_056_Validation_Policy.md` at Line 14\\n- Phrase is properly formatted as a blockquote within the validation statement section\\n- RAG retrieval successfully returned the validation statement\\n\\n**Exact Match:**\\n```markdown\\n> The Guardian confirms Validation Protocol 056 is active.\\n```",\n      "metadata": {\n        "parent_id": "9139ee9d-a85e-4da4-a5a5-2327000417ad",\n        "source_file": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md",\n        "filename": "Protocol_056_Verification_Report_2025-12-06.md",\n        "source": "/Users/richardfremmerlid/Projects/Project_Sanctuary/DOCS/Protocol_056_Verification_Report_2025-12-06.md"\n      },\n      "relevance_score": 0.45363522\n    }\n  ],\n  "query_time_ms": 41.443824768066406,\n  "status": "success",\n  "cache_hit": false,\n  "error": null\n}'}, 'isError': False}
---------------------------- Captured log teardown -----------------------------
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:76 Stopping MCP Server Fleet...
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:78 Stopping code...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:114 Server stopped
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:78 Stopping rag_cortex...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:114 Server stopped
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:78 Stopping chronicle...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:114 Server stopped
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:78 Stopping git...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:114 Server stopped
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:78 Stopping orchestrator...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:114 Server stopped
INFO     tests.mcp_servers.base.mcp_server_fleet:mcp_server_fleet.py:78 Stopping agent_persona...
INFO     tests.mcp_servers.base.mcp_test_client:mcp_test_client.py:114 Server stopped
=========================== short test summary info ============================
FAILED tests/mcp_servers/orchestrator/e2e/test_protocol_056_headless.py::TestProtocol056Headless::test_triple_loop_scenario
============================== 1 failed in 30.74s ==============================
