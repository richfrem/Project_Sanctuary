---
config:
  theme: base
---

%% Pattern 1: Simple Learning Loop
%% Self-directed research, document, iterate. No agents, no reviews.
%% Location: resources/diagrams/learning_loop.mmd

flowchart TB
    Start(["Trigger:<br>Question / Research Need"])
    Start --> Orient["Load Prior Context<br>(RLM Cache)"]
    
    subgraph Execution["Cognitive Synthesis"]
        Research["Research & Synthesize"]
        Document["Document Findings"]
        Bundler{{"context-bundler<br>Plugin"}}
        
        Research --> Document
        Document --> Iterate{"More to Learn?"}
        
        Iterate -- Yes --> Deepen["Deepen / Refine"]
        Deepen --> Bundler
        Bundler -->|Refresh Context| Research
    end
    
    Orient --> Execution
    
    Iterate -- No --> Seal["Seal Session State"]
    Seal -.->|Requires Final Snapshot| Bundler
    Seal --> Persist["Persist to Long-Term Memory"]
    Persist --> Retro["Retrospective"]
    Retro -.->|"Next Session"| Start

    style Start fill:#dfd,stroke:#333,stroke-width:2px
    style Iterate fill:#fff3e0,stroke:#e65100,stroke-width:2px
    style Retro fill:#d4edda,stroke:#155724,stroke-width:2px
    style Bundler fill:#81c784,stroke:#2e7d32,stroke-width:2px,stroke-dasharray: 5 5