sequenceDiagram
    participant Agent
    participant QueryTool as /rlm-factory_query
    participant Ledger as RLM Ledger
    participant FileSys as File System

    Note over Agent, Ledger: Phase 1: High-Speed Orientation (O(1))
    
    Agent->>QueryTool: "What does JCSE0004 do?"
    QueryTool->>Ledger: Scan Summaries (Key/Value Lookup)
    Ledger-->>QueryTool: "JCSE0004 handles judge assignment..."
    QueryTool-->>Agent: Returns 1-Sentence Summary
    
    alt Summary Sufficient
        Agent->>Agent: Proceed with high-level planning
        Note right of Agent: "I know enough to continue."
    else Summary Insufficient
        Note over Agent, FileSys: Phase 2: Targeted Deep Dive (O(N))
        Agent->>FileSys: Read full content of JCSE0004.md
        FileSys-->>Agent: Return Full Content (Tokens: 15k)
        Agent->>Agent: Perform deep analysis
    end
