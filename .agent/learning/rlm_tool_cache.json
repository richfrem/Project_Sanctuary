{
  "forge/scripts/upload_to_huggingface.py": {
    "file_mtime": 1769984471.618009,
    "hash": "9c03fabeb9c063f6",
    "summarized_at": "2026-02-11T19:01:08.285967",
    "summary": "{\"purpose\": \"Manages the upload of model weights, GGUF files, and metadata to Hugging Face Hub (Phase 6). Handles artifact selection, repo creation, and secure transport via hf_utils.\", \"layer\": \"Curate / Deployment\", \"usage\": [\"python forge/scripts/upload_to_huggingface.py --repo user/repo --gguf --readme\", \"python forge/scripts/upload_to_huggingface.py --files ./custom_model.bin --private\"], \"args\": [\"--repo: HF Repo ID\", \"--files: Explicit file paths\", \"--private: Mark repo as private\", \"--gguf: Upload GGUF artifacts\", \"--modelfile: Upload Ollama Modelfile\", \"--model-card: Upload model_card.yaml\", \"--lora: Upload LoRA adapter directory\"], \"inputs\": [\"forge/config/upload_config.yaml\", \"models/gguf/*\", \"huggingface/README.md\"], \"outputs\": [\"Uploaded artifacts on Hugging Face Hub\"], \"dependencies\": [\"mcp_servers.lib.hf_utils\", \"mcp_servers.lib.env_helper\", \"mcp_servers.lib.logging_utils\"], \"key_functions\": [\"load_config()\", \"load_environment()\", \"perform_upload()\", \"main()\"], \"consumed_by\": [\"Forge Pipeline\", \"Manual deployment\"]}"
  },
  "mcp_servers/lib/env_helper.py": {
    "file_mtime": 1769984471.63774,
    "hash": "bb9c73c2dfd16052",
    "summarized_at": "2026-02-11T19:01:08.286165",
    "summary": "{\"purpose\": \"Simple environment variable helper with proper fallback (Env -> .env). Ensures consistent secret loading across Project Sanctuary with priority: 1) Environment variable, 2) .env file in project root, 3) Error or None.\", \"layer\": \"Core / Utility\", \"usage\": [\"from mcp_servers.lib.env_helper import get_env_variable\", \"token = get_env_variable('HUGGING_FACE_TOKEN', required=True)\"], \"args\": [], \"inputs\": [\".env\"], \"outputs\": [\"Environment variable value\"], \"dependencies\": [\"python-dotenv\", \"mcp_servers.lib.path_utils\"], \"key_functions\": [\"get_env_variable(key, required)\", \"load_env()\"], \"consumed_by\": [\"mcp_servers.lib.hf_utils\", \"forge/scripts/upload_to_huggingface.py\", \"All services needing secrets\"]}"
  },
  "mcp_servers/lib/hf_utils.py": {
    "file_mtime": 1769984471.6382828,
    "hash": "65f69ba85467dd23",
    "summarized_at": "2026-02-11T19:01:08.286388",
    "summary": "{\"purpose\": \"Hugging Face utility library for soul persistence (ADR 079). Encapsulates huggingface_hub logic for Bicameral Separation. Provides unified async primitives for uploading snapshots, semantic caches, learning history, JSONL training data, and manifest updates.\", \"layer\": \"Retrieve / Curate (Library)\", \"usage\": [\"from mcp_servers.lib.hf_utils import upload_soul_snapshot\", \"from mcp_servers.lib.hf_utils import upload_semantic_cache\", \"from mcp_servers.lib.hf_utils import sync_full_learning_history\"], \"args\": [], \"inputs\": [\".agent/learning/snapshots/*\", \".agent/learning/rlm_summary_cache.json\", \".agent/learning/\"], \"outputs\": [\"Uploaded artifacts on Hugging Face Dataset Hub\"], \"dependencies\": [\"huggingface_hub\", \"mcp_servers.lib.env_helper\"], \"key_functions\": [\"upload_soul_snapshot()\", \"upload_semantic_cache()\", \"sync_full_learning_history()\", \"ensure_dataset_card()\", \"sync_metadata()\", \"append_to_jsonl()\", \"update_manifest()\", \"ensure_dataset_structure()\", \"upload_to_hf_hub()\", \"compute_checksum()\"], \"consumed_by\": [\"tools/cli.py persist-soul\", \"forge/scripts/upload_to_huggingface.py\", \"scripts/hugging-face/hf_upload_assets.py\"]}"
  },
  "scripts/hugging-face/hf_decorate_readme.py": {
    "file_mtime": 1769984471.6397753,
    "hash": "7cb5279fd11a9a5b",
    "summarized_at": "2026-02-11T19:01:08.286858",
    "summary": "{\"purpose\": \"Prepares the local Hugging Face staging directory for upload. Modifies hugging_face_dataset_repo/README.md in-place with YAML frontmatter per ADR 081. Creates Hub-standard directory structure (lineage, data, metadata).\", \"layer\": \"Curate\", \"usage\": [\"python scripts/hugging-face/hf_decorate_readme.py\"], \"args\": [], \"inputs\": [\"hugging_face_dataset_repo/README.md\"], \"outputs\": [\"hugging_face_dataset_repo/README.md (Modified with YAML frontmatter)\", \"hugging_face_dataset_repo/lineage/ (Folder created)\", \"hugging_face_dataset_repo/data/ (Folder created)\", \"hugging_face_dataset_repo/metadata/ (Folder created)\"], \"dependencies\": [], \"key_functions\": [\"stage_readme()\"], \"consumed_by\": [\"scripts/hugging-face/hf_upload_assets.py\", \"Manual deployment\"]}"
  },
  "scripts/hugging-face/hf_upload_assets.py": {
    "file_mtime": 1769984471.640232,
    "hash": "b6d3cdc844960d3a",
    "summarized_at": "2026-02-11T19:01:08.287027",
    "summary": "{\"purpose\": \"Synchronizes staged landing-page assets with the Hugging Face Hub (ADR 081). Uploads the final, metadata-rich README.md to the repository root. Complements cli.py persist-soul (which handles machine-readable data) by handling human-readable assets.\", \"layer\": \"Curate / Deployment\", \"usage\": [\"python scripts/hugging-face/hf_upload_assets.py\"], \"args\": [], \"inputs\": [\"hugging_face_dataset_repo/README.md\"], \"outputs\": [\"Uploads README.md to Hugging Face Dataset Root\"], \"dependencies\": [\"huggingface_hub\", \"mcp_servers.lib.hf_utils\"], \"key_functions\": [\"upload_assets()\"], \"consumed_by\": [\"Manual deployment\", \"Soul Persistence workflow\"]}"
  },
  "tools/cli.py": {
    "file_mtime": 1770863335.4779313,
    "hash": "1e040338737cd8db",
    "summarized_at": "2026-02-11T19:01:08.285374",
    "summary": "{\"purpose\": \"Main entry point for the Project Sanctuary Command System. Provides unified CLI access to Protocol 128 Learning Loop (debrief, snapshot, persist-soul, guardian), RAG Cortex (ingest, query, stats, cache), Context Bundling (init-context, manifest), Tool Discovery (tools), Workflow Orchestration (workflow), Evolutionary Metrics (evolution), RLM Distillation (rlm-distill), Domain Entity Management (chronicle, task, adr, protocol), and Fine-Tuned Model (forge).\", \"layer\": \"Tools / Orchestrator\", \"usage\": [\"python tools/cli.py debrief --hours 24\", \"python tools/cli.py snapshot --type seal\", \"python tools/cli.py persist-soul\", \"python tools/cli.py guardian wakeup --mode HOLISTIC\", \"python tools/cli.py ingest --incremental --hours 24\", \"python tools/cli.py query \\\"What is Protocol 128?\\\"\", \"python tools/cli.py workflow start --name workflow-start --target MyFeature\", \"python tools/cli.py workflow retrospective\", \"python tools/cli.py workflow end \\\"feat: implemented feature X\\\"\", \"python tools/cli.py rlm-distill tools/my-script.py\", \"python tools/cli.py chronicle list --limit 10\", \"python tools/cli.py task list --status in-progress\", \"python tools/cli.py adr list --status proposed\", \"python tools/cli.py forge status\"], \"args\": [\"debrief: Phase I - Run Learning Debrief (--hours)\", \"snapshot: Phase V - Capture context snapshot (--type: seal/learning_audit/audit/guardian/bootstrap)\", \"persist-soul: Phase VI - Broadcast learnings to Hugging Face\", \"guardian: Bootloader operations (wakeup, snapshot)\", \"ingest: RAG ingestion (--incremental, --hours, --dirs, --no-purge)\", \"query: Semantic search (--max-results, --use-cache)\", \"stats: View RAG health (--samples, --sample-count)\", \"workflow: Agent lifecycle (start, retrospective, end)\", \"evolution: Evolutionary metrics (fitness, depth, scope)\", \"rlm-distill: Distill semantic summaries from files\", \"chronicle/task/adr/protocol: Domain entity CRUD\", \"forge: Sanctuary Fine-Tuned Model (query, status)\"], \"inputs\": [\".agent/learning/learning_manifest.json\", \".agent/learning/guardian_manifest.json\", \"00_CHRONICLE/ENTRIES/\", \"tasks/\", \"ADRs/\", \"01_PROTOCOLS/\"], \"outputs\": [\"RAG Database (.vector_data/)\", \"Snapshots (.agent/learning/snapshots/)\", \"Context Bundles (temp/context-bundles/)\", \"Soul traces on Hugging Face\", \"Chronicle, Task, ADR, Protocol markdown files\"], \"dependencies\": [\"mcp_servers/learning/operations.py (LearningOperations)\", \"mcp_servers/rag_cortex/operations.py (CortexOperations)\", \"mcp_servers/evolution/operations.py (EvolutionOperations)\", \"mcp_servers/chronicle/operations.py (ChronicleOperations)\", \"mcp_servers/task/operations.py (TaskOperations)\", \"mcp_servers/adr/operations.py (ADROperations)\", \"mcp_servers/protocol/operations.py (ProtocolOperations)\", \"mcp_servers/forge_llm/operations.py (ForgeOperations) [optional]\", \"tools/orchestrator/workflow_manager.py (WorkflowManager)\"], \"key_functions\": [\"main()\", \"verify_iron_core()\", \"_get_learning_ops()\", \"_get_cortex_ops()\", \"_get_evolution_ops()\"], \"consumed_by\": [\"User (Manual CLI)\", \"Agent (via Tool Calls)\", \"CI/CD Pipelines\", \"/workflow-* workflows\"]}"
  }
}